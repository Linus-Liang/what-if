<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>What-If</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
  <body>
    <div id="tables">
      <h1>
        Overall: <span data-bind="fixed: overallGrade, digits: 2, percent: true"></span>
      </h1>
      
      <table>
        <tbody>
          <tr style="text-align: center;">
            <td><h5>Category</h5></td>
            <td><h5>Earned Points</h5></td>
            <td><h5>Earned Weight</h5></td>
            <td><h5>Percentage</h5></td>
            <td><h5>Letter Grade</h5></td>
          </tr>
        </tbody>
        <tbody data-bind="foreach: { data: categoriesView, as: 'categoryEntry' }">
          <tr>
            <td>
              <span data-bind="text: categoryEntry.name"></span>
              (<span data-bind="text: categoryEntry.weight"></span>)
            </td>
            <td style="text-align: center;">
              <span data-bind="fixed: categoryEntry.earnedPoints, digits: 2"></span>
              /
              <span data-bind="text: categoryEntry.maxPoints"></span>  
            </td>
            <td style="text-align: center;">
              <span data-bind="fixed: categoryEntry.earnedWeight, digits: 2"></span>
              /
              <span data-bind="fixed: categoryEntry.weight"></span>
            </td>
            <td data-bind="fixed: categoryEntry.percentage, percent: true"></td>
            <td data-bind="with: letterGrade">
              <span data-bind="text: letterGrade"></span>
            </td>
          </tr>
        </tbody>
      </table>

      <button data-bind="text: btnEditText, click: toggleEditing"></button>
      
      <table>
        <tbody>
          <tr style="text-align: center;">
            <td><h5>Category</h5></td>
            <td><h5>Assignment Name</h5></td>
            <td><h5>Score</h5></td>
            <td><h5>Points</h5></td>
            <td><h5>Percentage</h5></td>
            <td><h5>Letter Grade</h5></td>
          </tr>
        </tbody>
        <tbody data-bind="foreach: { data: assignmentView, as: 'gradeEntry' }">
          <tr>
            <td data-bind="text: categoryName"></td>
            <td data-bind="text: name"></td>
            <td style="text-align: center;">
              <input data-bind="textInput: earnedScore, visible: $root.isEditing, attr: { maxLength: maxinputLength }">
              <span data-bind="fixed: percentage, digits: 2, visible: !$root.isEditing()"></span>/<span data-bind="text: maxScore"></span>
            </td>
            <td style="text-align: center;">
              <span data-bind="fixed: earnedPoints, digits: 2"></span>/<span data-bind="fixed: points"></span>
            </td>
            <td style="text-align: end;" data-bind="fixed: percentage, digits: 2, percent: true"></td>
            <td data-bind="with: letterGrade"><span data-bind="text: letterGrade"></span></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <style>
      table, tr, td {
        border: 1px solid black;
      }
      input {
        width: 30px;
      }
    </style>

    <!-- <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js"></script>

    <script src="utils.js"></script>
    
    <script src="GradingService.js"></script>

    <script src="AssignmentEntry.js"></script>
    <script src="CategoryEntry.js"></script>
    <script src="Grade.js"></script>
    <script src="StudentGradesViewModel.js"></script>

    <script src="index.js"></script>
  </body>
</html>